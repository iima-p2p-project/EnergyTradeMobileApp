<ion-header no-border class="header">
  <ion-toolbar color="primary">
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/customer-dashboard"></ion-back-button>
    </ion-buttons>
    <ion-title class="ion-text-center title">
      DR Events Details
    </ion-title>
    <ion-buttons slot="end">
      <ion-button>
        <ion-icon src="assets/svg/notifications.svg" class="icon"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
  <div size="12" class="description px-4 pb-3 text-center">
    DR call on <b>26th October</b> with 5 events that requires <b> 900 kW - 100kW </b> power for 600-1124 paise/kWh
  </div>
</ion-header>


<ion-content>
  <ion-grid>
    <ion-row class="mt-2">
      <ion-col size="12" class="p-0 pl-3 d-flex align-items-center title">
        9:00 AM - 10:00 AM
      </ion-col>
    </ion-row>
    <ion-row class="mt-2" *ngFor="let event of publishedEvents">
      <ion-col size="12" class="p-0 px-1">
        <div class="event-list-item rounded ">
          <div class="px-3 pt-3 d-flex justify-content-between event-detail">
            <div class="d-flex align-items-center">
              <ion-icon src="assets/svg/timer.svg"></ion-icon>&nbsp;{{formatTime(event.eventStartTime)}} -
              {{formatTime(event.eventEndTime)}}
            </div>
            <div class="d-flex align-items-center">
              <ion-icon src="assets/svg/energy.svg"></ion-icon>&nbsp;{{event.plannedPower}} KW
            </div>
            <div class="d-flex align-items-center">
              <ion-icon src="assets/svg/rupee.svg"></ion-icon>&nbsp;{{event.expectedPrice}} Paise/KWH
            </div>
          </div>
          <div class="px-2">
            <div class="border-bottom py-2">
              <ion-chip class="border event-chip active" *ngFor="let device of allCustomerDevices"
                (click)="toggleDeviceSelection(event?.eventId,device)">
                <ion-label>{{device.drDeviceName}}</ion-label>
              </ion-chip>
              <!-- <ion-chip class="border event-chip active">
                <ion-label>Machinery</ion-label>
              </ion-chip> -->
            </div>
          </div>
          <div class="p-1 d-flex align-items-center event-rate">
            <div class="w-50 pr-3 text-right border-right">{{event.eventCustomerDetails.committedPower}} (±3%)</div>
            <div class="w-50 pl-3 text-left"> ₹ {{event.eventCustomerDetails.bidPrice}}.00 (±3%)</div>
          </div>
          <div class="d-flex align-items-center border-top btn-event">
            <div class="w-50 p-2 text-center border-right">Counter Bid</div>
            <div class="w-50 p-2 text-center">Participate</div>
          </div>
        </div>
      </ion-col>
    </ion-row>

    <!-- <ion-row class="mt-2">
      <ion-col size="12" class="p-0 px-1">
        <div class="event-list-item rounded ">
          <div class="px-3 pt-3 d-flex justify-content-between event-detail">
            <div class="d-flex align-items-center">
              <ion-icon src="assets/svg/timer.svg"></ion-icon>&nbsp;9:00 AM - 9:15 AM
            </div>
            <div class="d-flex align-items-center">
              <ion-icon src="assets/svg/energy.svg"></ion-icon>&nbsp;900KW
            </div>
            <div class="d-flex align-items-center">
              <ion-icon src="assets/svg/rupee.svg"></ion-icon>&nbsp;600 Paise/KWH
            </div>
          </div>
          <div class="px-2">
            <div class="border-bottom py-2">
              <ion-chip class="border event-chip active">
                <ion-label>Solar</ion-label>
              </ion-chip>
              <ion-chip class="border event-chip active">
                <ion-label>Machinery</ion-label>
              </ion-chip>
              <ion-chip class="border event-chip active">
                <ion-label>HVAC</ion-label>
              </ion-chip>
            </div>
          </div>
          <div class="p-1 d-flex align-items-center event-rate">
            <div class="w-50 pr-3 text-right border-right">150kW (±3%)</div>
            <div class="w-50 pl-3 text-left"> ₹ 225.00 (±3%)</div>
          </div>
          <div class="d-flex align-items-center justify-content-around border-top submit">
            <div class="py-2 text-center">You have agreed to participate</div>
            <div class="py-2 text-center btn-event">EDIT</div>
            <div class="py-2 text-center btn-event">WITHDRAW</div>
          </div>
        </div>
      </ion-col>
    </ion-row>
    <ion-row class="mt-2">
      <ion-col size="12" class="p-0 px-1">
        <div class="event-list-item rounded ">
          <div class="px-3 pt-3 d-flex justify-content-between event-detail">
            <div class="d-flex align-items-center">
              <ion-icon src="assets/svg/timer.svg"></ion-icon>&nbsp;9:00 AM - 9:15 AM
            </div>
            <div class="d-flex align-items-center">
              <ion-icon src="assets/svg/energy.svg"></ion-icon>&nbsp;900KW
            </div>
            <div class="d-flex align-items-center">
              <ion-icon src="assets/svg/rupee.svg"></ion-icon>&nbsp;600 Paise/KWH
            </div>
          </div>
          <div class="px-2">
            <div class="border-bottom py-2">
              <ion-chip class="border event-chip active">
                <ion-label>Solar</ion-label>
              </ion-chip>
              <ion-chip class="border event-chip active">
                <ion-label>Machinery</ion-label>
              </ion-chip>
              <ion-chip class="border event-chip active">
                <ion-label>HVAC</ion-label>
              </ion-chip>
              <ion-chip class="border event-chip">
                <ion-label>Default</ion-label>
              </ion-chip>
            </div>
          </div>
          <div class="p-1 d-flex align-items-center event-rate">
            <div class="w-50 pr-3 text-right border-right">150kW (±3%)</div>
            <div class="w-50 pl-3 text-left"> ₹ 225.00 (±3%)</div>
          </div>
          <div class="d-flex align-items-center justify-content-around border-top in-progress">
            <div class="py-2 text-center">Proposed counter bid - <b>625 paise/kwh</b> </div>
            <div class="py-2 text-center btn-event">EDIT</div>
            <div class="py-2 text-center btn-event">WITHDRAW</div>
          </div>
        </div>
      </ion-col>
    </ion-row>

    <ion-row class="mt-2">
      <ion-col size="12" class="p-0 pl-3 d-flex align-items-center title">
        10:00 AM - 11:00 AM
      </ion-col>
    </ion-row>
    <ion-row class="mt-2">
      <ion-col size="12" class="p-0 px-1">
        <div class="event-list-item rounded ">
          <div class="px-3 pt-3 d-flex justify-content-between event-detail">
            <div class="d-flex align-items-center">
              <ion-icon src="assets/svg/timer.svg"></ion-icon>&nbsp;9:00 AM - 9:15 AM
            </div>
            <div class="d-flex align-items-center">
              <ion-icon src="assets/svg/energy.svg"></ion-icon>&nbsp;900KW
            </div>
            <div class="d-flex align-items-center">
              <ion-icon src="assets/svg/rupee.svg"></ion-icon>&nbsp;600 Paise/KWH
            </div>
          </div>
          <div class="px-2">
            <div class="border-bottom py-2">
              <ion-chip class="border event-chip active">
                <ion-label>Solar</ion-label>
              </ion-chip>
              <ion-chip class="border event-chip active">
                <ion-label>Machinery</ion-label>
              </ion-chip>
              <ion-chip class="border event-chip active">
                <ion-label>HVAC</ion-label>
              </ion-chip>
              <ion-chip class="border event-chip">
                <ion-label>Default</ion-label>
              </ion-chip>
            </div>
          </div>
          <div class="p-1 d-flex align-items-center event-rate">
            <div class="w-50 pr-3 text-right border-right">150kW (±3%)</div>
            <div class="w-50 pl-3 text-left"> ₹ 225.00 (±3%)</div>
          </div>
          <div class="d-flex align-items-center border-top btn-event">
            <div class="w-50 p-2 text-center border-right">Counter Bid</div>
            <div class="w-50 p-2 text-center">Participate</div>
          </div>
        </div>
      </ion-col>
    </ion-row> -->
  </ion-grid>
</ion-content>